name: "Deploy project"
description: ""
inputs:
  language:
    description: "Which language is the project"
    required: true
    default: "javascript"
  directory:
    description: "Directory to work"
    required: true
    default: "."
  output_directory:
    description: "Output directory"
    required: true
    default: "dist"
runs:
  using: "composite"
  steps:
    - name: Checkout
      uses: actions/checkout@v4
    - name: Add node
      if: ${{ inputs.language == 'javascript' }}
      uses: actions/setup-node@v4
    - name: Run deployer.sh
      run: deployer.sh
      shell: bash
      env:
        LANGUAGE: ${{ inputs.language }}
        DIRECTORY: ${{ inputs.directory }}
    - name: Upload artifact
      uses: actions/upload-pages-artifact@v3
      with:
        path: ${{ inputs.output_directory }}
    - name: Deploy to GitHub Pages
      id: deployment
      uses: actions/deploy-pages@v4
    - name: Setup Pages
      uses: actions/configure-pages@v2
